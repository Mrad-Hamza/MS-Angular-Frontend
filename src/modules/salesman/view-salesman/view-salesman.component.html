<sb-layout-dashboard>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <sb-dashboard-head title="Dashboard" [hideBreadcrumbs]="false">

    </sb-dashboard-head>

    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Bonus</th>
                <th scope="col">Salary</th>
                <th scope="col">Phone Number</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">1</th>
                <td> {{salesman.first_name}} </td>
                <td> {{salesman.last_name}} </td>
                <td> {{salesman.bonus}}</td>
                <td> {{salesman.salary}}</td>
                <td> {{salesman.phone_numver}}</td>
                <td> <button type="button" name="update" (click)="update()" class="btn btn-dark">Update</button></td>
                <td><button type="submit" class="btn btn-danger" [routerLink]="['/salesman/all']"
                        (click)="delete(salesman)">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>

    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Birht Date</th>
                <th scope="col">Role</th>
                <th scope="col">Source</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let client of clients">
                <th scope="row">{{client.id}}</th>
                <td> {{client.name}} </td>
                <td> {{client.last_name}} </td>
                <td> {{client.birth_date}}</td>
                <td> {{client.role}}</td>
                <td> {{client.source}}</td>
                <td> <button type="button" name="update" (click)="update()" class="btn btn-dark">Update</button></td>
                <td><button type="submit" class="btn btn-danger" [routerLink]="['/salesman/all']"
                        (click)="delete(salesman)">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- <p-rating [(ngModel)]="val"></p-rating>
<p-rating></p-rating> -->

    <div class="col-sm-8">
        <h3 class="m-0" (click)="addClientButtonClicked()">Add Client</h3>
        <br />
    </div><!-- /.col -->

    <div *ngIf="addClient">
        <select class="form-control" name="clients"  [(ngModel)]="newClientId" >
            <option *ngFor="let c of persons" [ngValue]="c.id">{{c.name}} {{c.last_name}} </option>
        </select>
        <br/>
        <button type="button" class="btn btn-sm btn-primary product-btn" (click)="addClientToSalesman()">View
            Add
        </button>
    </div>

    <div *ngIf="updateEtat">
        <!--     <app-update-rayon [rayon]="rayon"></app-update-rayon> aaaaa
        -->
        <sb-update-salesman [salesman]="salesman"></sb-update-salesman>
    </div>

</sb-layout-dashboard>
